<html>
<script type="text/javascript" src="../../env.json"></script>
<script type="text/javascript" src="apiGateway-js-sdk/lib/axios/dist/axios.standalone.js"></script>
<script type="text/javascript" src="apiGateway-js-sdk/lib/CryptoJS/rollups/hmac-sha256.js"></script>
<script type="text/javascript" src="apiGateway-js-sdk/lib/CryptoJS/rollups/sha256.js"></script>
<script type="text/javascript" src="apiGateway-js-sdk/lib/CryptoJS/components/hmac.js"></script>
<script type="text/javascript" src="apiGateway-js-sdk/lib/CryptoJS/components/enc-base64.js"></script>
<script type="text/javascript" src="apiGateway-js-sdk/lib/url-template/url-template.js"></script>
<script type="text/javascript" src="apiGateway-js-sdk/lib/apiGatewayCore/sigV4Client.js"></script>
<script type="text/javascript" src="apiGateway-js-sdk/lib/apiGatewayCore/apiGatewayClient.js"></script>
<script type="text/javascript" src="apiGateway-js-sdk/lib/apiGatewayCore/simpleHttpClient.js"></script>
<script type="text/javascript" src="apiGateway-js-sdk/lib/apiGatewayCore/utils.js"></script>
<script type="text/javascript" src="apiGateway-js-sdk/apigClient.js"></script>

<body>

</body>

<script>
var awsConfig = JSON.parse(environmentVariables);

var apigClient = apigClientFactory.newClient({
    accessKey: awsConfig.accessKey,
    secretKey: awsConfig.secretKey,
    region: awsConfig.region 
});
console.log(apigClient);

// Standard get request with no body
apigClient.usersGet()
    .then(function(result){
        //This is where you would put a success callback
        console.log('successful',result);
    }).catch( function(result){
        //This is where you would put an error callback
        console.log('failed',result);
    });

// Post request with body
var header = {
	"user": "newUserFromSDK"
}
var body = {
    "user": "newUserFromSDK"
};
apigClient.userPost(header, body)
    .then(function(result){
        //This is where you would put a success callback
        console.log('successful',result);
    }).catch( function(result){
        //This is where you would put an error callback
        console.log('failed',result);
    });

</script>
</html>